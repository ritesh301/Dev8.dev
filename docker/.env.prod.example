# Production Environment Configuration for Azure Container Instances
# Copy this file to .env.prod and fill in your actual values
# NEVER commit .env.prod to version control!

# ============================================================================
# REQUIRED - Must be set for production
# ============================================================================

# Unique identifier for this workspace instance
ENVIRONMENT_ID=dev8-prod-${USER_ID}

# GitHub Token (required for Copilot and GitHub CLI)
# Create at: https://github.com/settings/tokens
# Scopes needed: repo, read:packages, workflow
GITHUB_TOKEN=ghp_your_github_token_here

# Git user configuration
GIT_USER_NAME=Your Name
GIT_USER_EMAIL=your.email@company.com

# VS Code Server Authentication (default: none)
# PRODUCTION SECURITY: Enable authentication by setting CODE_SERVER_AUTH=password
# Generate strong password with: openssl rand -base64 32
CODE_SERVER_AUTH=none
CODE_SERVER_PASSWORD=

# ============================================================================
# SSH Access (Optional)
# ============================================================================

# SSH is not required for VS Code access
# Only enable if you need shell access to the container

# Password auth (simple): ssh -p 2222 dev8@<host>
SSH_PASSWORD=

# Public key auth (recommended): ssh -p 2222 -i ~/.ssh/id_ed25519 dev8@<host>
# Generate with: ssh-keygen -t ed25519 -C "dev8-workspace"
SSH_PUBLIC_KEY=

# ============================================================================
# Container Registry Configuration
# ============================================================================

# Azure Container Registry (ACR) or Docker Hub
# ACR Example: yourregistry.azurecr.io
# Docker Hub: docker.io/yourusername
CONTAINER_REGISTRY=yourregistry.azurecr.io/dev8-workspace
IMAGE_TAG=latest

# Container name (must be unique in ACI)
CONTAINER_NAME=dev8-workspace-${ENVIRONMENT_ID}

# ============================================================================
# Port Configuration
# ============================================================================

VSCODE_PORT=8080
SSH_PORT=2222
API_PORT=9000

# ============================================================================
# Azure Configuration
# ============================================================================

# Azure Storage Account for persistence (Azure Files)
# Create with: az storage account create --name <name> --resource-group <rg>
AZURE_STORAGE_ACCOUNT=your_storage_account_name
AZURE_STORAGE_KEY=your_storage_account_key
AZURE_STORAGE_CONTAINER=dev8-backups

# Azure Resource Group and Location
AZURE_RESOURCE_GROUP=dev8-prod-rg
AZURE_REGION=eastus
AZURE_SUBSCRIPTION_ID=your-subscription-id

# ============================================================================
# Workspace Backup Configuration
# ============================================================================

# Enable automatic backups to Azure Blob Storage
WORKSPACE_BACKUP_ENABLED=true
# Backup interval in seconds (3600 = 1 hour)
WORKSPACE_BACKUP_INTERVAL=3600

# ============================================================================
# AI CLI Tools (Optional but Recommended)
# ============================================================================

# Anthropic Claude API
# Get key at: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-your-key-here

# OpenAI API
# Get key at: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-key-here

# Google Gemini API
# Get key at: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your-gemini-key-here

# ============================================================================
# SSH Access (Optional)
# ============================================================================

# Public SSH key for secure access
# Generate with: ssh-keygen -t ed25519 -C "dev8-workspace"
# Then copy: cat ~/.ssh/id_ed25519.pub
SSH_PUBLIC_KEY=

# ============================================================================
# Application Configuration
# ============================================================================

# VS Code Server authentication method
# Options: password, none (NOT recommended for production)
CODE_SERVER_AUTH=password

# Supervisor API port
SUPERVISOR_PORT=9000
REPORT_INTERVAL=60s

# ============================================================================
# Logging and Monitoring
# ============================================================================

# Log level: debug, info, warn, error
LOG_LEVEL=info

# Enable telemetry for monitoring
ENABLE_TELEMETRY=true

# Environment type
ENVIRONMENT_TYPE=production

# ============================================================================
# Network Configuration
# ============================================================================

NETWORK_NAME=dev8-network

# ============================================================================
# Resource Limits (Based on ACI SKU)
# ============================================================================

# ACI supports these CPU/Memory combinations:
# - 1 CPU, 1.5 GB RAM (minimum)
# - 2 CPU, 4 GB RAM
# - 4 CPU, 8 GB RAM
# - 4 CPU, 16 GB RAM (maximum for single container)

# Adjust in docker-compose.prod.yml based on your ACI plan
